---
- name: 'Create new User'
  request:
    path:        '/users/duffyduck'
    method:      'PUT'
    body:
      username:  'duffyduck'
      watchlist:
      - m333
      - m79
      blacklist:
      - m334
      - m77
      skiplist:
      - m335
      - m78
      ratings:
        m336: 4
        m79: 2.5
        m777: 3.0
        m567: 4.0
        m354: 5.0
      expires_at: 2011-09-09T22:41:50+00:00
  response_expectation:
    status_code: 201
    headers:
      Last-Modified:    /.*/
    body:
      username:       'duffyduck'
      watchlist:
      - m333
      - m79
      blacklist:
      - m334
      - m77
      skiplist:
      - m335
      - m78
      ratings:
        m336: 4.0
        m79: 2.5
      fsk:            "18"
      expires_at: Fri, 09 Sep 2011 22:41:50 +0000
- name: 'Update existing User - Update watchlist'
  request:
    path:       '/users/duffyduck/watchlist'
    method:     'PUT'
    body:
    - m367
    - m73
  response_expectation:
    status_code: 204
    body:
- name: 'Check User FSK,Watchlist'
  request:
    path:        '/users/duffyduck'
    method:      'GET'
  response_expectation:
    status_code: 200
    headers:
      Last-Modified:    /.*/
    body:
      username:       'duffyduck'
      fsk:            "18"
      watchlist:
      - m367
      - m73
      blacklist:
      - m334
      - m77
      skiplist:
      - m335
      - m78
      ratings:
        m336: 4.0
        m79: 2.5
- name: 'Set 10 Ratings'
  request:
    path:        '/users/duffyduck/ratings'
    method:      'PUT'
    body:
      "m1035": 4
      "m2087": 3
      "m1554": 2
      "m2981": 1
      "m1590": 2
      "m1056": 3
      "m12493": 4
      "m1875": 5
      "m7258": 2.5
      "m7339": 3.5
  response_expectation:
    status_code: 204
    headers:
      Last-Modified:    /.*/
- name: 'Check User Ratings Update'
  request:
    path:        '/users/duffyduck'
    method:      'GET'
  response_expectation:
    status_code: 200
    headers:
      Last-Modified:    /.*/
    body:
      username:       'duffyduck'
      fsk:            "18"
      watchlist:
      - m367
      - m73
      blacklist:
      - m334
      - m77
      skiplist:
      - m335
      - m78
      ratings:
        "m1035": "1.0"
        "m2087": "3.0"
        "m1554": "2.0"
        "m1590": "2.0"
        "m1056": "3.0"
        "m12493": "4.0"
        "m1875": "5.0"
        "m7258": "2.5"
        "m7339": "3.5"
